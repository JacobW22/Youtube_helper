{% load static %}
{% load widget_tweaks %}


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Youtube helper</title>

    
        <!-- Imports start -->
        <link href="{% static 'bootstrap/bootstrap.min.css' %}" rel="stylesheet">
        <link rel="stylesheet" href="{% static 'css/overall.css' %}">  
        <link rel="stylesheet" href="{% static 'css/sidebar.css' %}">  
        <link rel="stylesheet" href="{% static 'css/template_manage_account_General.css' %}">
    
    
        <script src="https://kit.fontawesome.com/5cd37e3dba.js" crossorigin="anonymous"></script>
        <script src="{% static 'bootstrap/bootstrap.bundle.min.js' %}"></script>
        <script src="{% static 'vendor/jquery/jquery-3.2.1.min.js' %}"></script>
    
    
        <link rel="icon" type="image/png" href="{% static 'images/icons/favicon.ico' %}"/>
        <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
        <!-- Imports end -->
    </head>

</head>
<body>
    

<!-- Navbar start -->
{% url 'manage_account' as the_url %}
{% include "navbar.html" with sites_context=sites_context active_site_name="Manage account" active_site_url=the_url %}
<!-- Navbar end -->


  
<!-- Main container start -->
<div class="d-flex main-container flex-column flex-lg-row">
  <!-- Sidebar start -->
  {% include "manage_account_sidebar.html" with active="General" %}
  <!-- Sidebar end -->

   <section class="col-lg-10 main_section py-4">

    <div class="d-flex flex-column flex-lg-row justify-content-center top_section px-5">
      <div class="d-flex justify-content-center fs-1 text-center account_info">
        <span class="d-flex align-items-center gap-3" id="typewriter">

        <i class="fa-solid fa-user"></i>

      </span>
      </div>
    </div>
    <span class="d-block text-center mx-auto fs-5 mt-5">Joined on <span style="color:#7cf569;">{{ user.date_joined|date:"M. d, Y H:i:s" }}</span></span>


    <div class="text-center changes_section p-5 gap-5">

      <span class="text-center mx-auto fs-1 title">Change account details</span>

      <form method="POST" class="d-flex flex-column justify-content-center align-items-center gap-2 mt-5 username_form">
        {% csrf_token %}

        <span class="text-center fs-3">Username</span>
        {{ form.username|attr:"maxlength:20"|attr:"placeholder:Username"|add_class:"form-control" }}
        
        <span class="text-center fs-3 mt-5">E-mail address</span>
        {{ form.email|attr:"placeholder:E-mail"|add_class:"form-control" }}

        <div class="d-flex align-items-center form-check form-switch fs-3 mt-5">
          {{ form.save_history|add_class:"form-check-input fs-4 mb-1"|attr:"id:flexSwitchCheck"}}
          <label class="mb-0 ms-3" for="flexSwitchCheck">Save history</label>
        </div>

        <button type="submit" class="btn btn-lg mt-3 input_submit">Save</button>
      </form>
    
    </div>

   </section>

</div>
<!-- Main container end -->




<!-- Toasts container start -->	
<div class="toast-container bottom-0 start-50 translate-middle-x">
  {% for message in messages %}
  <div class="toast fade text-center text-white border-0" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false"> 
    <div class="toast-body">
        <i class="fa-regular fa-hand-peace"></i>&nbsp; {{ message }}
    </div>
    <button type="button" class="btn-close ms-auto fs-6 mb-3 toast_dismiss" aria-label="Close"></button>
  </div>
  {% endfor %}
  
  {% for field,errors in form.errors.items %}
      {% for error in errors %}
        <div class="toast text-center text-white border-0" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false"> 
            <div class="toast-body">
              {{ error }}
            </div>
          <button type="button" class="btn-close ms-auto fs-6 mb-3 toast_dismiss" aria-label="Close"></button>
        </div>
      {% endfor %}
  {% endfor %}
</div>
<!-- Toasts container end -->	



<script src="{% static 'js/main.js' %}" type="text/javascript"></script>
<script type="text/javascript">

$(document).ready(function(){
  var i = 0;
  var speed = 50; /* The speed/duration of the effect in milliseconds */

  function typeWriter() {
    // Get the text from the source element using jQuery
    var txt = '{{ username }}';

    if (i < txt.length) {
      $("#typewriter").append(txt.charAt(i));
      i++;
      setTimeout(typeWriter, speed);
    }
  }

  typeWriter();
});



</script>
</body>
</html>